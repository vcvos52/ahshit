(function(e){function t(t){for(var r,i,s=t[0],u=t[1],l=t[2],d=0,m=[];d<s.length;d++)i=s[d],a[i]&&m.push(a[i][0]),a[i]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);c&&c(t);while(m.length)m.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,s=1;s<n.length;s++){var u=n[s];0!==a[u]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={app:0},o=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var c=u;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var r=n("64a9"),a=n.n(r);a.a},1:function(e,t){},"41a4":function(e,t,n){"use strict";var r=n("81b9"),a=n.n(r);a.a},4366:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[e._v("\n  "+e._s(e.gameOpen)+"\n    "),n("button",{staticStyle:{margin:"10px","margin-bottom":"10%"},attrs:{id:"button1"},on:{click:e.clearSession}},[e._v("Start Over")]),!0===e.init?n("div",{staticStyle:{width:"75%",margin:"auto"}},[n("button",{attrs:{id:"button1"},on:{click:e.scoreCard}},[e._v("Score Card")]),n("button",{attrs:{id:"button1"},on:{click:e.playGame}},[e._v("Play Game")])]):!0===e.scorecard?n("div",[n("ScoreCard")],1):!0===e.playgame?n("div",[!1===e.gogogo?n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{type:"text"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),n("br"),n("br"),n("input",{attrs:{id:"button2",type:"button",value:e.username},on:{click:e.entername}})]):e._e(),!0===e.gogogo?n("PlayGame",{attrs:{username:e.username}}):e._e()],1):e._e()])},o=[],i=(n("96cf"),n("3b8d")),s=(n("6b54"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[!1===e.presentForm&&!1===e.askNamesBool?n("div",{staticStyle:{width:"75%",margin:"auto","margin-top":"100px"}},[n("span",{staticStyle:{color:"white","margin-right":"20px"}},[e._v("How many players? ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.players,expression:"players"}],attrs:{type:"number",name:"ps"},domProps:{value:e.players},on:{input:function(t){t.target.composing||(e.players=t.target.value)}}}),n("button",{on:{click:e.askNames}},[e._v("Start Game!")]),e.players>5||e.players<2?n("span",{staticStyle:{color:"red","margin-left":"20px"}},[e._v("Pick a number between 2 and 5!")]):e._e()]):e._e(),!1===e.presentForm&&!0===e.askNamesBool?n("div",{staticStyle:{width:"75%",margin:"auto","margin-top":"100px"}},[n("span",{staticStyle:{color:"white","margin-right":"20px"}},[e._v("What are the players names?")]),e._l(e.numberList,function(t){return n("div",{key:t.key},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"elem.name"}],attrs:{type:"text",placeholder:"enter name"},domProps:{value:t.name},on:{input:function(n){n.target.composing||e.$set(t,"name",n.target.value)}}})])}),n("button",{on:{click:e.createForm}},[e._v("Start Game!")])],2):e._e(),!0===e.presentForm?n("div",{staticStyle:{margin:"auto",width:"75%","margin-top":"100px"}},[n("span",{attrs:{id:"logo"}},[e._v("Round")]),n("br"),n("button",{staticStyle:{"font-size":"35px","background-color":"rgb(130, 130, 130)",border:"0px","border-radius":"7px",width:"1em"},on:{click:function(t){return e.decrement()}}},[e._v("-")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.select_round,expression:"select_round"}],staticStyle:{margin:"auto",width:"2em",background:"transparent",border:"none",color:"white","font-size":"40px","text-align":"center"},attrs:{type:"number",min:"0",max:"20"},domProps:{value:e.select_round},on:{input:function(t){t.target.composing||(e.select_round=t.target.value)}}}),n("button",{staticStyle:{"font-size":"35px","background-color":"rgb(130, 130, 130)",border:"0px","border-radius":"7px",width:"1em"},on:{click:function(t){return e.increment()}}},[e._v("+")]),n("table",{staticStyle:{width:"100%"}},[n("thead",[e._l(this.headers,function(e,t){return n("col",{key:t,staticStyle:{width:"auto",height:"100%"}})}),n("tr",e._l(this.headers,function(t,r){return n("th",{key:r},[e._v(e._s(t))])}),0)],2),n("tbody",e._l(this.tableData,function(t,r){return n("tr",{key:r},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.select_round,expression:"select_round"}],attrs:{type:"radio",name:"selectRound",id:t["round"]},domProps:{value:t["round"],checked:e._q(e.select_round,t["round"])},on:{change:function(n){e.select_round=t["round"]}}}),n("td",{on:{click:function(n){return e.p(t["round"])}}},[n("div",{staticStyle:{margin:"auto",width:"2em",background:"transparent",border:"none",color:"white"}},[e._v(e._s(e.cardCount[t["round"]-1]))])]),e._l(Object.keys(t).slice(1),function(a,o){return n("td",{key:o},[n("input",{directives:[{name:"model",rawName:"v-model",value:t[a],expression:"d[key]"}],class:{won:1===e.roundResults[r][a],lost:-1===e.roundResults[r][a]},staticStyle:{width:"2em",background:"transparent",border:"none",color:"white"},attrs:{type:"number",maxlength:"3"},domProps:{value:t[a]},on:{input:function(n){n.target.composing||e.$set(t,a,n.target.value)}}})])})],2)}),0)]),n("div",{staticStyle:{"margin-top":"80px","margin-bottom":"30px","font-size":"1.3em"}},[n("span",[e._v("Round "+e._s(e.select_round)+": ")]),n("br"),n("br"),n("label",[e._v(" Players' Bet: \n          "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.userInput,expression:"userInput"}],staticStyle:{"margin-right":"10px"},attrs:{type:"radio",name:"user"},domProps:{value:"bet",checked:e._q(e.userInput,"bet")},on:{change:function(t){e.userInput="bet"}}})]),n("label",[e._v(" Input Winners\n          "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.userInput,expression:"userInput"}],attrs:{type:"radio",name:"user"},domProps:{value:"winners",checked:e._q(e.userInput,"winners")},on:{change:function(t){e.userInput="winners"}}})])]),"bet"===e.userInput?n("div",[e._l(e.numberList,function(t){return n("div",{key:t.key,staticStyle:{"margin-bottom":"10px","margin-top":"10px"}},[n("label",{staticStyle:{"margin-bottom":"10px"}},[e._v(e._s(t.name)+"'s bet: \n            "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.tableData[e.select_round-1][t.name+"bet"],expression:"tableData[select_round-1][elem.name+'bet']"}],staticStyle:{"border-radius":"7px","text-align":"center"},attrs:{type:"number",id:t.name+"betinput",placeholder:"bet for "+t.name},domProps:{value:e.tableData[e.select_round-1][t.name+"bet"]},on:{input:function(n){n.target.composing||e.$set(e.tableData[e.select_round-1],t.name+"bet",n.target.value)}}})])])}),n("button",{on:{click:function(t){return e.submitBets()}}},[e._v("Submit Bets")])],2):e._e(),"winners"===e.userInput?n("div",[e._v("\n          Who won? "),n("br"),e._l(e.numberList,function(t){return n("div",{key:t.key},[n("label",[e._v(e._s(t.name)+"   \n            "),n("input",{attrs:{name:"rr",type:"checkbox"},domProps:{value:t.name}})])])}),n("button",{on:{click:function(t){return e.submitResults()}}},[e._v("Submit Round")])],2):e._e()]):e._e()])}),u=[],l=(n("7f7f"),n("ac4d"),n("8a81"),n("ac6a"),n("bc3a")),c=n.n(l),d={name:"app",data:function(){return{userInput:"bet",bet:0,players:5,select_round:1,presentForm:!1,askNamesBool:!1,numberList:[],playerNames:[],headers:["","Round"],tableData:[{round:1},{round:2},{round:3},{round:4},{round:5},{round:6},{round:7},{round:8},{round:9},{round:10},{round:11},{round:12},{round:13},{round:14},{round:15},{round:16},{round:17},{round:18},{round:19},{round:20}],roundResults:[{round:1},{round:2},{round:3},{round:4},{round:5},{round:6},{round:7},{round:8},{round:9},{round:10},{round:11},{round:12},{round:13},{round:14},{round:15},{round:16},{round:17},{round:18},{round:19},{round:20}],cardCount:[10,9,8,7,6,5,4,3,2,1,1,2,3,4,5,6,7,8,9,10]}},created:function(){var e=this;c.a.get("/api/score/status").then(function(t){"askNames"===t.data[0]?(e.presentForm=!1,e.askNamesBool=!0,e.numberList=t.data[1]):"presentForm"===t.data[0]&&(e.askNamesBool=!1,e.presentForm=!0,e.numberList=t.data[1],e.tableData=t.data[2],e.roundResults=t.data[3],e.generateTableHead())}).catch(function(){e.presentForm=!1,e.askNamesBool=!1})},methods:{createForm:function(){this.players<6&&this.players>1&&(c.a.put("/api/score/setForm",this.numberList).catch(function(e){console.log(e)}),this.presentForm=!0,this.askNamesBool=!1,this.generateTableHead(),this.fillTableData(),this.fillRoundResultData())},p:function(e){for(var t=document.getElementsByName("selectRound"),n=0;n<t.length;n++)t[n].checked=!1;var r=document.getElementById(e);r.checked=!0,this.select_round=e},askNames:function(){if(console.log(this.players),this.players<6&&this.players>1){for(var e=0;e<this.players;e++)this.numberList.push({name:"player"+e,key:e});console.log(this.players),c.a.put("/api/score/askNames",this.numberList).catch(function(e){console.log(e)}),this.askNamesBool=!0}},generateTableHead:function(){var e=!0,t=!1,n=void 0;try{for(var r,a=this.numberList[Symbol.iterator]();!(e=(r=a.next()).done);e=!0){var o=r.value;this.headers.push(o.name),this.headers.push(o.name+"'s bet")}}catch(i){t=!0,n=i}finally{try{e||null==a.return||a.return()}finally{if(t)throw n}}},fillTableData:function(){var e=!0,t=!1,n=void 0;try{for(var r,a=this.tableData[Symbol.iterator]();!(e=(r=a.next()).done);e=!0)for(var o=r.value,i=0;i<this.players;i++)o[this.numberList[i]["name"]+"score"]=0,o[this.numberList[i]["name"]+"bet"]=0}catch(s){t=!0,n=s}finally{try{e||null==a.return||a.return()}finally{if(t)throw n}}c.a.post("/api/score/saveTable",this.tableData)},fillRoundResultData:function(){var e=!0,t=!1,n=void 0;try{for(var r,a=this.roundResults[Symbol.iterator]();!(e=(r=a.next()).done);e=!0)for(var o=r.value,i=0;i<this.players;i++)o[this.numberList[i]["name"]+"bet"]=0,o["complete"]=!1}catch(s){t=!0,n=s}finally{try{e||null==a.return||a.return()}finally{if(t)throw n}}c.a.post("/api/score/saveRoundResults",this.roundResults)},editTableData:function(e,t,n){this.tableData[e][t]=n,console.log(this.tableData)},submitBets:function(){var e=document.getElementsByName("user");console.log(this.userInput);for(var t=0;t<e.length;t++)e[t].checked=!1;var n=e[1];n.checked=!0,this.userInput="winners"},decrement:function(){this.select_round>1&&this.p(this.select_round-1)},increment:function(){this.select_round<20&&this.p(this.select_round+1)},submitResults:function(){var e=document.getElementsByName("rr");this.roundResults[this.select_round-1]["complete"]=!0;for(var t=0;t<e.length;t++)"checkbox"==e[t].type&&(e[t].checked?this.roundResults[this.select_round-1][e[t].value+"bet"]=1:this.roundResults[this.select_round-1][e[t].value+"bet"]=-1);this.userInput="bet",this.increment(),c.a.post("/api/score/saveRoundResults",this.roundResults),this.updateScores()},updateScores:function(){for(var e=this,t=function(t){var n=e.tableData[t],r=0;t>0&&(r=e.tableData[t-1]);var a=e.roundResults[t];e.numberList.forEach(function(e){var o=e["name"],i=parseInt(n[o+"bet"]);1===a[o+"bet"]?(console.log(r),0===t?n[o+"score"]=i+10:t>0&&(n[o+"score"]=r[o+"score"]+i+10)):-1===a[o+"bet"]&&t>0&&(n[o+"score"]=r[o+"score"])})},n=0;n<this.tableData.length;n++)t(n);c.a.post("/api/score/saveTable",this.tableData).then(console.log("good")).catch(console.log("error on axios call in updateScores method"))}}},m=d,h=(n("41a4"),n("2877")),p=Object(h["a"])(m,s,u,!1,null,"3494dbb8",null),f=p.exports,g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[!1===e.gameStarted?n("div",[!0===e.gameEnded?n("div",[e._v("\n            Some Bitch ass left the game...\n        ")]):e._e(),e._v("\n\n        In Your Game:\n        "),e._l(e.all,function(t){return n("div",{key:t.name},[e._v("\n            "+e._s(t.name)+"\n        ")])}),n("button",{on:{click:e.startGame}},[e._v("Start Game")])],2):e._e(),!0===e.gameStarted?n("div",[n("Game",{attrs:{initializer:e.first,all:e.all,refresh:e.refresh,username:e.username}})],1):e._e()])},b=[],v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{trick:e.trickDone}},[n("span",{attrs:{id:"logo"}},[e._v("Round")]),n("br"),n("span",{staticStyle:{margin:"auto",width:"2em",background:"transparent",border:"none",color:"white","font-size":"40px","text-align":"center"}},[e._v(e._s(e.round))]),n("br"),n("br"),e.turn?n("div",[e.bet?n("div",[n("span",{staticStyle:{"font-size":"30px",color:"green"}},[e._v("Your Turn to Bet")])]):e._e(),e.play?n("div",[n("span",{staticStyle:{"font-size":"30px",color:"green"}},[e._v(" Your Turn to Play a Card")])]):e._e()]):n("div",[e.bet?n("div",[n("span",{staticStyle:{"font-size":"30px",color:"red"}},[e._v("Waiting for "+e._s(e.all[e.turnIndex]["name"])+" to Bet")])]):e._e(),e.play?n("div",[n("span",{staticStyle:{"font-size":"30px",color:"red"}},[e._v("Waiting for "+e._s(e.all[e.turnIndex]["name"])+" "),e.hand.length===e.cardsPerRound[e.round]&&e.turnIndex>0?n("span",[e._v(" to Bet ")]):n("span",[e._v(" to Play a Card ")])])]):e._e()]),n("br"),n("span",{staticStyle:{"font-size":"30px",color:"white"}},[e._v("Number of tricks won: "+e._s(e.tricksWon))]),n("br"),n("br"),e._v("\n\n    "+e._s(e.all)+"\n    "+e._s(e.username)+"\n    "),n("br"),n("br"),e._v("\n    Deck: "+e._s(e.deck)+" "),n("br"),n("br"),e._v(" Trump: "+e._s(e.trump)+" "),n("br"),n("br"),e._v(" Card Led: "+e._s(e.firstPlayedCard)+"\n    "),n("br"),n("br"),e._v("\n    "+e._s(e.deck.cards.length)+"\n    "),n("br"),n("br"),n("br"),e.trickDone?n("div",{staticClass:"winners",staticStyle:{margin:"auto","content-align":"center"}},[e._v("\n      "+e._s(e.trickWinner)+" won this trick!\n      "),n("button",{on:{click:function(t){return e.nextTrick()}}},[e._v("Done")])]):e.roundDone?n("div",[e._v("\n      "+e._s(e.trickWinner)+" won this round!\n      "),n("button",{on:{click:function(t){return e.nextRound()}}},[e._v("Done")])]):n("div",[e._v("\n      "+e._s(e.currentTrick)+"\n      "),e._l(e.currentTrick,function(t,r){return n("button",{key:r},[e._v("Suit: "+e._s(t.suit)+" "),n("br"),n("br"),e._v(" Rank: "+e._s(t.rank))])}),n("br"),n("br"),e._l(e.hand,function(t,r){return n("button",{key:r,attrs:{id:r,name:"cards"},on:{click:function(t){return e.playCard(r)}}},[e._v("Suit: "+e._s(t.suit)+" "),n("br"),n("br"),e._v(" Rank: "+e._s(t.rank))])})],2),e.wrongSuit?n("div",{staticStyle:{color:"red"}},[n("br"),e._v("\n      Must play a card of the led suit if you have it!\n    ")]):e._e(),e.waitturn?n("div",{staticStyle:{color:"red"}},[n("br"),e._v("\n      It is not your turn to play a card.\n    ")]):e._e(),n("br"),n("br"),n("br"),n("br"),e.turn&&e.bet?n("div",[n("label",{staticStyle:{"margin-bottom":"10px"}},[e._v(e._s(e.username)+"'s bet: \n      "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.tableData[e.round][e.username+"bet"],expression:"tableData[round][username+'bet']"}],staticStyle:{"border-radius":"7px","text-align":"center"},attrs:{type:"number",id:e.username+"betinput",placeholder:"bet for "+e.username},domProps:{value:e.tableData[e.round][e.username+"bet"]},on:{input:function(t){t.target.composing||e.$set(e.tableData[e.round],e.username+"bet",t.target.value)}}})]),n("button",{on:{click:function(t){return e.submitBet()}}},[e._v("Submit Bets")])]):e._e(),n("br"),n("br"),n("table",{staticStyle:{width:"100%"}},[n("thead",[e._l(this.headers,function(e,t){return n("col",{key:t,staticStyle:{width:"auto",height:"100%"}})}),n("tr",e._l(this.headers,function(t,r){return n("th",{key:r},[e._v(e._s(t))])}),0)],2),n("tbody",e._l(this.tableData,function(t,r){return n("tr",{key:r},[n("td",[n("div",{staticStyle:{margin:"auto",width:"2em",background:"transparent",border:"none",color:"white"}},[e._v(e._s(e.cardsPerRound[t["round"]]))])]),e._l(Object.keys(t).slice(1),function(a,o){return n("td",{key:o},[n("span",{class:{won:1===e.roundResults[r][a],lost:-1===e.roundResults[r][a]},staticStyle:{width:"2em",background:"transparent",border:"none",color:"white"},attrs:{type:"number",maxlength:"3"}},[e._v(e._s(t[a]))])])})],2)}),0)])])},y=[],k=n("5118"),_=(n("3e8f"),{name:"Game",components:{},data:function(){return{trump:null,wrongSuit:!1,baseAll:[],trickWinner:"",firstPlayedCard:null,currentTrick:[],trickDone:!1,roundDone:!1,tricksWon:0,turnIndex:0,waitturn:!1,bet:!0,play:!1,hand:null,round:0,cardsPerRound:[2,9,8,7,6,5,4,3,2,1,1,2,3,4,5,6,7,8,9,10],deck:[],turn:!1,headers:["Round"],tableData:[{round:0},{round:1},{round:2},{round:3},{round:4},{round:5},{round:6},{round:7},{round:8},{round:9},{round:10},{round:11},{round:12},{round:13},{round:14},{round:15},{round:16},{round:17},{round:18},{round:19}],roundResults:[{round:0},{round:1},{round:2},{round:3},{round:4},{round:5},{round:6},{round:7},{round:8},{round:9},{round:10},{round:11},{round:12},{round:13},{round:14},{round:15},{round:16},{round:17},{round:18},{round:19}],cardValueMapping:{2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,10:10,J:11,Q:12,K:13,A:14}}},props:{all:[],refresh:Boolean,username:String,initializer:Boolean},created:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t,n,r,a,o,i,s,u,l,d,m,h,p,f,g,b,v,y,k,_,x,w=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(G.$emit("game-started"),!this.refresh){e.next=15;break}return console.log("Refresh is TRUE"),e.next=5,c.a.get("/api/online/getdeck").then(function(e){w.deck=e.data[0],w.trump=e.data[1]}).catch(function(e){console.log("problem getting deck")});case 5:return e.next=7,c.a.get("/api/online/getall").then(function(e){w.all=e.data}).catch(function(e){console.log("problem getting all")});case 7:return e.next=9,c.a.get("/api/online/getHand").then(function(e){w.hand=e.data});case 9:return e.next=11,c.a.get("/api/online/getround").then(function(e){w.round=parseInt(e.data,10)}).catch(function(e){console.log(e)});case 11:return e.next=13,c.a.get("/username").then(function(e){w.username=e.data});case 13:e.next=27;break;case 15:for(console.log("Refresh is false"),t=0;t<this.all.length;t++)this.baseAll.push(this.all[t]);if(!this.initializer){e.next=20;break}return e.next=20,c.a.get("/api/online/setdeck").then(function(e){w.deck=e.data[0],w.trump=e.data[1],C.emit("start-game",w.username)}).catch(function(e){console.log("problem setting deck")});case 20:return e.next=22,c.a.post("/api/online/setall",this.all).catch(function(e){console.log("problem setting all")});case 22:return e.next=24,c.a.get("/api/online/dealHand/".concat(this.cardsPerRound[this.round])).then(function(e){w.hand=e.data});case 24:return e.next=26,c.a.get("/api/online/getdeck").then(function(e){w.deck=e.data[0],w.trump=e.data[1]}).catch(function(e){console.log("problem getting deck")});case 26:this.all[this.turnIndex].name===this.username&&(this.turn=!0);case 27:for(n=!0,r=!1,a=void 0,e.prev=30,o=this.all[Symbol.iterator]();!(n=(i=o.next()).done);n=!0)s=i.value,this.headers.push(s.name),this.headers.push(s.name+"'s bet");e.next=38;break;case 34:e.prev=34,e.t0=e["catch"](30),r=!0,a=e.t0;case 38:e.prev=38,e.prev=39,n||null==o.return||o.return();case 41:if(e.prev=41,!r){e.next=44;break}throw a;case 44:return e.finish(41);case 45:return e.finish(38);case 46:for(u=!0,l=!1,d=void 0,e.prev=49,m=this.tableData[Symbol.iterator]();!(u=(h=m.next()).done);u=!0)for(p=h.value,f=0;f<this.all.length;f++)p[this.all[f]["name"]+"score"]=0,p[this.all[f]["name"]+"bet"]=0;e.next=57;break;case 53:e.prev=53,e.t1=e["catch"](49),l=!0,d=e.t1;case 57:e.prev=57,e.prev=58,u||null==m.return||m.return();case 60:if(e.prev=60,!l){e.next=63;break}throw d;case 63:return e.finish(60);case 64:return e.finish(57);case 65:for(c.a.post("/api/score/saveTable",this.tableData),g=!0,b=!1,v=void 0,e.prev=69,y=this.roundResults[Symbol.iterator]();!(g=(k=y.next()).done);g=!0)for(_=k.value,x=0;x<this.all.length;x++)_[this.all[x]["name"]+"bet"]=0,_["complete"]=!1;e.next=77;break;case 73:e.prev=73,e.t2=e["catch"](69),b=!0,v=e.t2;case 77:e.prev=77,e.prev=78,g||null==y.return||y.return();case 80:if(e.prev=80,!b){e.next=83;break}throw v;case 83:return e.finish(80);case 84:return e.finish(77);case 85:c.a.post("/api/score/saveRoundResults",this.roundResults);case 86:case"end":return e.stop()}},e,this,[[30,34,38,46],[39,,41,45],[49,53,57,65],[58,,60,64],[69,73,77,85],[78,,80,84]])}));function t(){return e.apply(this,arguments)}return t}(),mounted:function(){var e=this;G.$on("next-turn",function(t){if(console.log(e.username,t,e.all),e.checkInAll(t[1])){var n=e;if(e.currentTrick.length===e.all.length){console.log("272 in socket..",e.all,e.turnIndex,e.trickWinner);for(var r=e.all.filter(function(t){return t.name===e.trickWinner})[0],a=e.all.indexOf(r),o=[],i=a;i<e.all.length;i++)o.push(e.all[i]),console.log(o);for(var s=0;s<a;s++)o.push(e.all[s]),console.log(o);e.all=o,console.log("283 in socket..",e.all,e.turnIndex,t[0]);for(var u=document.getElementsByName("cards"),l=0;l<u.length;l++){var d=u[l];d.disabled=!0}Object(k["setTimeout"])(function(){n.trickDone=!0},1e3)}e.turnIndex=t[0],e.all[e.turnIndex].name===e.username?(e.turn=!0,e.waitturn=!1):e.turn=!1,c.a.get("/api/score/getTable").then(function(t){console.log(t),e.tableData=t.data}).catch(function(e){return console.log(e)})}}),G.$on("card-played",function(t){e.checkInAll(t[2])&&(e.currentTrick.push(t[0][0]),t[1]&&(e.firstPlayedCard=t[0][0]))}),G.$on("next-round",function(t){if(e.checkInAll(t)){for(var n=e,r=document.getElementsByName("cards"),a=0;a<r.length;a++){var o=r[a];o.disabled=!0}Object(k["setTimeout"])(function(){n.submitResults(),n.trickDone=!0,n.roundDone=!0,n.turnIndex=0;var e=n.baseAll.splice(0,1);n.baseAll.push(e[0]);for(var t=[],r=0;r<n.baseAll.length;r++)t.push(n.baseAll[r]);n.all=t,n.all[n.turnIndex].name===n.username?(n.turn=!0,n.waitturn=!1):n.turn=!1},1e3)}}),G.$on("trick-done",function(t){e.checkInAll(t)&&(e.trickDone=!1,e.currentTrick=[])}),G.$on("deck-updated",function(t){console.log("**********************",e.username,e.all,t),e.checkInAll(t)?c.a.get("/api/online/getdeck").then(function(t){e.deck=t.data[0],e.trump=t.data[1]}).catch(function(e){console.log("problem getting deck")}):console.log("USER NOT IN ALL!!!!!")}),G.$on("award-trick",function(t){e.checkInAll(t[0])&&(t[1].username===e.username&&e.tricksWon++,e.trickWinner=t[1].username)}),G.$on("round-done",function(t){e.checkInAll(t)&&(console.log("Right before suspicios axios call"),c.a.get("/api/score/getTable").then(function(t){console.log(t.data),e.tableData=t.data}).catch(function(e){return console.log(e)}),e.roundDone=!1,e.tricksWon=0,e.round++,e.bet=!0,e.play=!1,c.a.get("/api/score/getRoundResults").then(function(t){e.roundResults=t.data,e.updateTable()}),e.dealHand(),c.a.get("/api/online/getdeck").then(function(t){e.deck=t.data[0],e.trump=t.data[1]}).catch(function(e){console.log("problem getting deck")}),c.a.post("/api/online/setround/".concat(e.round)).catch(function(e){console.log(e)}))})},methods:{checkInAll:function(e){for(var t=0;t<this.all.length;t++){var n=this.all[t];if(n["name"]===e)return!0}return!1},nextRound:function(){C.emit("round-done",this.username)},newDeck:function(){var e=this;c.a.get("/api/online/setdeck").then(function(t){e.deck=t.data[0],e.trump=t.data[1]}).catch(function(e){console.log(e)})},dealHand:function(){var e=this;c.a.get("/api/online/dealHand/".concat(this.cardsPerRound[this.round])).then(function(t){e.hand=t.data,C.emit("deck-updated",e.username)})},playCard:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,u=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.wrongSuit=!1,!this.turn||this.bet){e.next=38;break}if(!(this.turnIndex>0)){e.next=9;break}if(n=this.hand[t],n.suit===this.firstPlayedCard.suit){e.next=9;break}if(r=this.hand.filter(function(e){return e.suit===u.firstPlayedCard.suit}),!(r.length>=1)){e.next=9;break}return this.wrongSuit=!0,e.abrupt("return");case 9:for(a=!1,o=this.hand.splice(t,1),o[0]["username"]=this.username,this.turn=!1,c.a.put("/api/online/updatehand",this.hand).catch(function(e){return console.log(e)}),0===this.turnIndex&&(this.firstPlayedCard=o[0],a=!0),this.waitturn=!1,this.turnIndex++,i=[],s=0;s<this.currentTrick.length;s++)i.push(this.currentTrick[s]);return e.next=21,C.emit("card-played",[o,a,this.username]);case 21:if(console.log("504 in card played",this.turnIndex,this.all),this.turnIndex!==this.all.length){e.next=35;break}return e.next=25,this.awardTrick(i,o[0]);case 25:if(this.turnIndex=0,0!==this.hand.length){e.next=32;break}return e.next=29,this.newDeck();case 29:C.emit("next-round",this.username),e.next=33;break;case 32:C.emit("next-turn",[this.turnIndex,this.username]);case 33:e.next=36;break;case 35:C.emit("next-turn",[this.turnIndex,this.username]);case 36:e.next=39;break;case 38:this.waitturn=!0;case 39:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),awardTrick:function(e,t){var n=this.trump["suit"],r=this.firstPlayedCard["suit"];e.push(t);for(var a=[],o=[],i=0;i<e.length;i++){var s=e[i];s["suit"]===n&&a.push(s),s["suit"]===r&&o.push(s)}var u=null,l=0;if(a.length>0)for(var c=0;c<a.length;c++){var d=a[c];this.cardValueMapping[d["rank"]]>l&&(l=this.cardValueMapping[d["rank"]],u=d)}else if(o.length>0)for(var m=0;m<o.length;m++){var h=o[m];this.cardValueMapping[h["rank"]]>l&&(l=this.cardValueMapping[h["rank"]],u=h)}C.emit("award-trick",[this.username,u])},submitBet:function(){var e=this;this.waitturn=!1,this.turn=!1,this.turnIndex++,this.turnIndex===this.all.length&&(this.turnIndex=0),c.a.post("/api/score/saveTable",this.tableData).then(function(t){e.bet=!1,e.play=!0,C.emit("next-turn",[e.turnIndex,e.username])})},getWinners:function(){},submitResults:function(){var e=this.tableData[this.round][this.username+"bet"];c.a.post("/api/score/addRoundResults",[this.round,this.username,this.tricksWon,e])},updateTable:function(){for(var e=this,t=function(t){var n=e.tableData[t],r=0;t>0&&(r=e.tableData[t-1]);var a=e.roundResults[t];e.all.forEach(function(e){var o=e["name"],i=parseInt(n[o+"bet"],10);1===a[o+"bet"]?0===t?n[o+"score"]=i+10:t>0&&(n[o+"score"]=r[o+"score"]+i+10):-1===a[o+"bet"]&&t>0&&(n[o+"score"]=r[o+"score"])})},n=0;n<this.tableData.length;n++)t(n);c.a.post("/api/score/saveTable",this.tableData).then(console.log("good")).catch(function(e){return console.log(e)})},nextTrick:function(){this.trickDone=!1,this.currentTrick=[],C.emit("trick-done",this.username)}},beforeDestroy:function(){G.$off("next-turn"),G.$off("card-played"),G.$off("next-round"),G.$off("trick-done"),G.$off("deck-updated"),G.$off("award-trick"),G.$off("round-done")},destroyed:function(){G.$emit("game-ended")}}),x=_,w=(n("68e4"),Object(h["a"])(x,v,y,!1,null,null,null)),S=w.exports,R={name:"Play Game",components:{Game:S},data:function(){return{all:[],gameStarted:!1,gameEnded:!1,refresh:!1,first:!1}},props:{username:String},created:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:G.$emit("lobby-started"),c.a.get("/api/online/all").then(function(e){t.all=e.data}),c.a.get("/isgamestarted").then(function(e){"gamestarted"===e.data&&(t.refresh=!0,t.gameStarted=!0)}).catch(function(e){return console.log(e)});case 3:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),mounted:function(){var e=this;G.$on("player-joined",function(t){console.log("PlayGame 70 -- ",e.username,e.all),e.gameStarted||c.a.get("/api/online/all").then(function(t){e.all=t.data})}),G.$on("player-left",function(t){if(!1===e.gameStarted)c.a.get("/api/online/all").then(function(t){e.all=t.data});else{var n=e.checkInAll(t);console.log("PlayGame 83 -- ",e.username,e.all),n&&G.$emit("clear")}}),G.$on("start-game",function(t){e.gameStarted||(e.gameStarted=!0,c.a.post("/setGameStarted").then(console.log("good")).catch(console.log("error on axios call in scoreCard method")))})},methods:{checkInAll:function(e){for(var t=0;t<this.all.length;t++){var n=this.all[t];if(n["name"]===e)return!0}return!1},startGame:function(){var e=this;c.a.put("/api/online/removeplayers",this.all).then(function(t){e.gameStarted=!0,c.a.post("/setGameStarted").then(console.log("good")).catch(console.log("error on axios call in scoreCard method"))}).catch(function(e){console.log(e)}),this.first=!0}},beforeDestroy:function(){G.$off("player-joined"),G.$off("player-left"),G.$off("start-game")},destroyed:function(){G.$emit("lobby-ended")}},I=R,D=Object(h["a"])(I,g,b,!1,null,null,null),$=D.exports,O={name:"app",components:{ScoreCard:f,PlayGame:$},data:function(){return{init:!1,gameOpen:!1,scorecard:!1,playgame:!1,gogogo:!1,lobbyOpen:!1,username:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,5)}},created:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:G.$on("game-started",function(){t.gameOpen=!0}),G.$on("game-ended",function(){t.gameOpen=!1}),G.$on("lobby-started",function(){t.lobbyOpen=!0}),G.$on("lobby-ended",function(){t.lobbyOpen=!1}),c.a.get("/connected").then(function(e){console.log(e.data),"no"===e.data&&(console.log("CONNECTING"),C.connect(),c.a.post("/connect").then(console.log("connected")).catch("something wrong with connect api call"))}),c.a.get("/isSigned").then(function(e){"scorecard"===e.data?(t.scorecard=!0,t.init=!1,t.playgame=!1):"playgame"===e.data?(t.playgame=!0,t.init=!1,t.scorecard=!1):"gogogo"===e.data&&(t.playgame=!0,t.init=!1,t.scorecard=!1,t.gogogo=!0)}).catch(function(){t.init=!0,t.scorecard=!1,t.playgame=!1}),G.$on("clear",function(){c.a.delete("/clearSession/".concat(t.username)).then(function(){t.playgame=!1,t.scorecard=!1,t.init=!0,t.gogogo=!1})});case 7:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),mounted:function(){var e=this;C.on("player-joined",function(t){e.lobbyOpen&&G.$emit("player-joined",t)}),C.on("player-left",function(t){e.lobbyOpen&&G.$emit("player-left",t)}),C.on("start-game",function(t){e.lobbyOpen&&G.$emit("start-game",t)}),C.on("next-turn",function(t){e.gameOpen&&G.$emit("next-turn",t)}),C.on("card-played",function(t){e.gameOpen&&G.$emit("card-played",t)}),C.on("next-round",function(t){e.gameOpen&&G.$emit("next-round",t)}),C.on("trick-done",function(t){e.gameOpen&&G.$emit("trick-done",t)}),C.on("deck-updated",function(t){e.gameOpen&&G.$emit("deck-updated",t)}),C.on("award-trick",function(t){e.gameOpen&&G.$emit("award-trick",t)}),C.on("round-done",function(t){e.gameOpen&&G.$emit("round-done",t)})},methods:{scoreCard:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.init=!1,this.playgame=!1,this.scorecard=!0,c.a.post("/setScoreCard").then(console.log("good")).catch(console.log("error on axios call in scoreCard method"));case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),playGame:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.init=!1,this.scorecard=!1,this.playgame=!0,c.a.post("/setPlayGame").then(console.log("good")).catch(console.log("error on axios call in playGame method"));case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),clearSession:function(){this.gameOpen||G.$emit("clear"),C.emit("player-left",this.username)},entername:function(){c.a.post("/api/online/login",{name:this.username}),this.gogogo=!0,C.emit("player-joined",this.username)}}},P=O,T=(n("034f"),Object(h["a"])(P,a,o,!1,null,null,null)),N=T.exports,B=n("8055"),j=n.n(B);n.d(t,"socket",function(){return C}),n.d(t,"eventBus",function(){return G});var C=j()(),G=new r["a"];r["a"].config.productionTip=!1,new r["a"]({render:function(e){return e(N)}}).$mount("#app")},"64a9":function(e,t,n){},"68e4":function(e,t,n){"use strict";var r=n("4366"),a=n.n(r);a.a},"81b9":function(e,t,n){}});
//# sourceMappingURL=app.f08fe542.js.map